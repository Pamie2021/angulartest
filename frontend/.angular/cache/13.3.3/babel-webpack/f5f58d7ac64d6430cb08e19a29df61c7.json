{"ast":null,"code":"import { tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/face-snaps.service\";\nimport * as i2 from \"@angular/router\";\n\nfunction SingleFaceSnapComponent_div_0_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const faceSnap_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Photo Prise \\u00E0 \", faceSnap_r1.location, \"\");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    snapped: a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    color: a0\n  };\n};\n\nfunction SingleFaceSnapComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 2);\n    i0.ɵɵtext(5, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"img\", 3);\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, SingleFaceSnapComponent_div_0_p_12_Template, 2, 1, \"p\", 4);\n    i0.ɵɵelementStart(13, \"p\")(14, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function SingleFaceSnapComponent_div_0_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const faceSnap_r1 = restoredCtx.ngIf;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onSnap(faceSnap_r1.id);\n    });\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 6);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const faceSnap_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx_r0.buttonText === \"Oops, un Like!\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 10, faceSnap_r1.title));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Mis en ligne \", i0.ɵɵpipeBind2(8, 12, faceSnap_r1.createdDate, \"\\u00E0 HH:mm, le d MMMM yyyy\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", faceSnap_r1.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", faceSnap_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(faceSnap_r1.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", faceSnap_r1.location);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.buttonText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(17, _c1, \"rgb(0, \" + faceSnap_r1.snaps + \", 0)\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\uD83E\\uDD0C \", faceSnap_r1.snaps, \"\");\n  }\n} //class\n\n\nexport class SingleFaceSnapComponent {\n  /**\r\n   * Afin de récupérer les informations de la route activée,\r\n   * vous allez injecterActivatedRoutedans SingleFaceSnapComponent,\r\n   * sans oublier d'enlever le décorateur  @Input()  de la propriété  faceSnap  :\r\n   */\n  constructor(faceSnapsService, route) {\n    this.faceSnapsService = faceSnapsService;\n    this.route = route;\n  } //methode pour initialiser les proprietes\n\n\n  ngOnInit() {\n    this.buttonText = 'Like!'; //recuperaction de parametre ID  + un TYPECAST pour (transformer) recuperer les Id en Number\n\n    const faceSnapId = +this.route.snapshot.params['id']; //initialiser   this.faceSnap en appellant  this.faceSnapsService avec la methode getFaceSnapById\n\n    this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\n  } //fin de la methode ngOnInit\n\n  /**\r\n   *\r\n   * CRUD\r\n   * 1 la creationd'un Like par un snapId\r\n   * 2.MODIFICATION\r\n   */\n  //1. methode  pour clicker sur le bouton (evenement ) avec l'implementation de la methode snapface dans le service\n\n\n  onSnap(faceSnapId) {\n    if (this.buttonText === 'Like!') {\n      this.faceSnapsService.snapFaceSnapById(faceSnapId, 'Like').pipe(tap(() => {\n        this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\n        this.buttonText = 'Oops, un Like!';\n      })).subscribe();\n    } else {\n      this.faceSnapsService.snapFaceSnapById(faceSnapId, 'unLike').pipe(tap(() => {\n        this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\n        this.buttonText = 'Like!';\n      })).subscribe();\n    } // fin if else\n\n  } //fin methode onSnap\n\n\n}\n\nSingleFaceSnapComponent.ɵfac = function SingleFaceSnapComponent_Factory(t) {\n  return new (t || SingleFaceSnapComponent)(i0.ɵɵdirectiveInject(i1.FaceSnapsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nSingleFaceSnapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SingleFaceSnapComponent,\n  selectors: [[\"app-single-face-snap\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"face-snap-card\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"face-snap-card\", 3, \"ngClass\"], [\"routerLink\", \"/facesnaps\"], [3, \"src\", \"alt\"], [4, \"ngIf\"], [3, \"click\"], [3, \"ngStyle\"]],\n  template: function SingleFaceSnapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SingleFaceSnapComponent_div_0_Template, 18, 19, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.faceSnap$));\n    }\n  },\n  styles: [\".face-snap-card[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  width: 50%;\\n  margin: 20px auto;\\n  padding: 10px 30px;\\n  box-shadow: #b4b0b0 4px 4px 20px;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-weight: 300;\\n  font-size: 16px;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  box-sizing: border-box;\\n  padding: 5px 10px;\\n  border: none;\\n  box-shadow: #5e9de6 3px 3px 7px;\\n  margin-right: 20px;\\n  outline: none;\\n  font-size: 14px;\\n  font-weight: 500;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  transform: translate(1px, 1px);\\n  box-shadow: #1394cb 0 0 5px;\\n}\\n.snapped[_ngcontent-%COMP%] {\\n  background-color: rgba(181, 239, 249, 0.4);\\n  color: #60bce3;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  box-shadow: #aecff4 3px 3px 7px;\\n  color: #415e93;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  box-shadow: #88c5db 0 0 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbmdsZS1mYWNlLXNuYXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0NBQUE7QUFDSjtBQUFJO0VBQ0UsV0FBQTtBQUVOO0FBQUk7RUFDRSxnQkFBQTtBQUVOO0FBQUk7RUFDRSxnQkFBQTtFQUNBLGVBQUE7QUFFTjtBQUFJO0VBQ0UsNkJBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBRU47QUFETTtFQUNFLDhCQUFBO0VBQ0EsMkJBQUE7QUFHUjtBQUNFO0VBQ0UsMENBQUE7RUFDQSxjQUFBO0FBRUo7QUFESTtFQUNFLCtCQUFBO0VBQ0EsY0FBQTtBQUdOO0FBRk07RUFDRSwyQkFBQTtBQUlSIiwiZmlsZSI6InNpbmdsZS1mYWNlLXNuYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmFjZS1zbmFwLWNhcmQge1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGJveC1zaGFkb3c6IHJnYigxODAsIDE3NiwgMTc2KSA0cHggNHB4IDIwcHg7XHJcbiAgICBpbWcge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuICAgIGgyIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgIH1cclxuICAgIHAge1xyXG4gICAgICBmb250LXdlaWdodDogMzAwO1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICB9XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYm94LXNoYWRvdzogcmdiKDk0LCAxNTcsIDIzMCkgM3B4IDNweCA3cHg7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAmOmFjdGl2ZSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMXB4LCAxcHgpO1xyXG4gICAgICAgIGJveC1zaGFkb3c6IHJnYigxOSwgMTQ4LCAyMDMpIDAgMCA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLnNuYXBwZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYShyZ2IoMTgxLCAyMzksIDI0OSksIDAuNCk7XHJcbiAgICBjb2xvcjogcmdiKDk2LCAxODgsIDIyNyk7XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBib3gtc2hhZG93OiByZ2IoMTc0LCAyMDcsIDI0NCkgM3B4IDNweCA3cHg7XHJcbiAgICAgIGNvbG9yOiByZ2IoNjUsIDk0LCAxNDcpO1xyXG4gICAgICAmOmFjdGl2ZSB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogcmdiKDEzNiwgMTk3LCAyMTkpIDAgMCA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9Il19 */\"]\n});","map":{"version":3,"sources":["D:/DWWM/ANGULAR/snapface/src/app/single-face-snap/single-face-snap.component.ts"],"names":["tap","i0","i1","i2","SingleFaceSnapComponent_div_0_p_12_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","faceSnap_r1","ɵɵnextContext","ngIf","ɵɵadvance","ɵɵtextInterpolate1","location","_c0","a0","snapped","_c1","color","SingleFaceSnapComponent_div_0_Template","_r5","ɵɵgetCurrentView","ɵɵpipe","ɵɵelement","ɵɵtemplate","ɵɵlistener","SingleFaceSnapComponent_div_0_Template_button_click_14_listener","restoredCtx","ɵɵrestoreView","ctx_r4","onSnap","id","ctx_r0","ɵɵproperty","ɵɵpureFunction1","buttonText","ɵɵtextInterpolate","ɵɵpipeBind1","title","ɵɵpipeBind2","createdDate","imageUrl","ɵɵsanitizeUrl","description","snaps","SingleFaceSnapComponent","constructor","faceSnapsService","route","ngOnInit","faceSnapId","snapshot","params","faceSnap$","getFaceSnapById","snapFaceSnapById","pipe","subscribe","ɵfac","SingleFaceSnapComponent_Factory","t","ɵɵdirectiveInject","FaceSnapsService","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SingleFaceSnapComponent_Template","styles"],"mappings":"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","sourcesContent":["import { tap } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../core/services/face-snaps.service\";\r\nimport * as i2 from \"@angular/router\";\r\nfunction SingleFaceSnapComponent_div_0_p_12_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"p\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const faceSnap_r1 = i0.ɵɵnextContext().ngIf;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"Photo Prise \\u00E0 \", faceSnap_r1.location, \"\");\r\n} }\r\nconst _c0 = function (a0) { return { snapped: a0 }; };\r\nconst _c1 = function (a0) { return { color: a0 }; };\r\nfunction SingleFaceSnapComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵpipe(3, \"titlecase\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"a\", 2);\r\n    i0.ɵɵtext(5, \"Back\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"p\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵpipe(8, \"date\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(9, \"img\", 3);\r\n    i0.ɵɵelementStart(10, \"p\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(12, SingleFaceSnapComponent_div_0_p_12_Template, 2, 1, \"p\", 4);\r\n    i0.ɵɵelementStart(13, \"p\")(14, \"button\", 5);\r\n    i0.ɵɵlistener(\"click\", function SingleFaceSnapComponent_div_0_Template_button_click_14_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const faceSnap_r1 = restoredCtx.ngIf; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.onSnap(faceSnap_r1.id); });\r\n    i0.ɵɵtext(15);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"span\", 6);\r\n    i0.ɵɵtext(17);\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const faceSnap_r1 = ctx.ngIf;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx_r0.buttonText === \"Oops, un Like!\"));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 10, faceSnap_r1.title));\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\"Mis en ligne \", i0.ɵɵpipeBind2(8, 12, faceSnap_r1.createdDate, \"\\u00E0 HH:mm, le d MMMM yyyy\"), \"\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"src\", faceSnap_r1.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", faceSnap_r1.title);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(faceSnap_r1.description);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", faceSnap_r1.location);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(ctx_r0.buttonText);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(17, _c1, \"rgb(0, \" + faceSnap_r1.snaps + \", 0)\"));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"\\uD83E\\uDD0C \", faceSnap_r1.snaps, \"\");\r\n} }\r\n//class\r\nexport class SingleFaceSnapComponent {\r\n    /**\r\n     * Afin de récupérer les informations de la route activée,\r\n     * vous allez injecterActivatedRoutedans SingleFaceSnapComponent,\r\n     * sans oublier d'enlever le décorateur  @Input()  de la propriété  faceSnap  :\r\n     */\r\n    constructor(faceSnapsService, route) {\r\n        this.faceSnapsService = faceSnapsService;\r\n        this.route = route;\r\n    }\r\n    //methode pour initialiser les proprietes\r\n    ngOnInit() {\r\n        this.buttonText = 'Like!';\r\n        //recuperaction de parametre ID  + un TYPECAST pour (transformer) recuperer les Id en Number\r\n        const faceSnapId = +this.route.snapshot.params['id'];\r\n        //initialiser   this.faceSnap en appellant  this.faceSnapsService avec la methode getFaceSnapById\r\n        this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\r\n    } //fin de la methode ngOnInit\r\n    /**\r\n     *\r\n     * CRUD\r\n     * 1 la creationd'un Like par un snapId\r\n     * 2.MODIFICATION\r\n     */\r\n    //1. methode  pour clicker sur le bouton (evenement ) avec l'implementation de la methode snapface dans le service\r\n    onSnap(faceSnapId) {\r\n        if (this.buttonText === 'Like!') {\r\n            this.faceSnapsService.snapFaceSnapById(faceSnapId, 'Like').pipe(tap(() => {\r\n                this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\r\n                this.buttonText = 'Oops, un Like!';\r\n            })).subscribe();\r\n        }\r\n        else {\r\n            this.faceSnapsService.snapFaceSnapById(faceSnapId, 'unLike').pipe(tap(() => {\r\n                this.faceSnap$ = this.faceSnapsService.getFaceSnapById(faceSnapId);\r\n                this.buttonText = 'Like!';\r\n            })).subscribe();\r\n        } // fin if else\r\n    } //fin methode onSnap\r\n}\r\nSingleFaceSnapComponent.ɵfac = function SingleFaceSnapComponent_Factory(t) { return new (t || SingleFaceSnapComponent)(i0.ɵɵdirectiveInject(i1.FaceSnapsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\r\nSingleFaceSnapComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SingleFaceSnapComponent, selectors: [[\"app-single-face-snap\"]], decls: 2, vars: 3, consts: [[\"class\", \"face-snap-card\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"face-snap-card\", 3, \"ngClass\"], [\"routerLink\", \"/facesnaps\"], [3, \"src\", \"alt\"], [4, \"ngIf\"], [3, \"click\"], [3, \"ngStyle\"]], template: function SingleFaceSnapComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, SingleFaceSnapComponent_div_0_Template, 18, 19, \"div\", 0);\r\n        i0.ɵɵpipe(1, \"async\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.faceSnap$));\r\n    } }, styles: [\".face-snap-card[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  width: 50%;\\n  margin: 20px auto;\\n  padding: 10px 30px;\\n  box-shadow: #b4b0b0 4px 4px 20px;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-weight: 300;\\n  font-size: 16px;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  box-sizing: border-box;\\n  padding: 5px 10px;\\n  border: none;\\n  box-shadow: #5e9de6 3px 3px 7px;\\n  margin-right: 20px;\\n  outline: none;\\n  font-size: 14px;\\n  font-weight: 500;\\n}\\n.face-snap-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  transform: translate(1px, 1px);\\n  box-shadow: #1394cb 0 0 5px;\\n}\\n.snapped[_ngcontent-%COMP%] {\\n  background-color: rgba(181, 239, 249, 0.4);\\n  color: #60bce3;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  box-shadow: #aecff4 3px 3px 7px;\\n  color: #415e93;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  box-shadow: #88c5db 0 0 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbmdsZS1mYWNlLXNuYXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0NBQUE7QUFDSjtBQUFJO0VBQ0UsV0FBQTtBQUVOO0FBQUk7RUFDRSxnQkFBQTtBQUVOO0FBQUk7RUFDRSxnQkFBQTtFQUNBLGVBQUE7QUFFTjtBQUFJO0VBQ0UsNkJBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBRU47QUFETTtFQUNFLDhCQUFBO0VBQ0EsMkJBQUE7QUFHUjtBQUNFO0VBQ0UsMENBQUE7RUFDQSxjQUFBO0FBRUo7QUFESTtFQUNFLCtCQUFBO0VBQ0EsY0FBQTtBQUdOO0FBRk07RUFDRSwyQkFBQTtBQUlSIiwiZmlsZSI6InNpbmdsZS1mYWNlLXNuYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmFjZS1zbmFwLWNhcmQge1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGJveC1zaGFkb3c6IHJnYigxODAsIDE3NiwgMTc2KSA0cHggNHB4IDIwcHg7XHJcbiAgICBpbWcge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuICAgIGgyIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgIH1cclxuICAgIHAge1xyXG4gICAgICBmb250LXdlaWdodDogMzAwO1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICB9XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYm94LXNoYWRvdzogcmdiKDk0LCAxNTcsIDIzMCkgM3B4IDNweCA3cHg7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAmOmFjdGl2ZSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMXB4LCAxcHgpO1xyXG4gICAgICAgIGJveC1zaGFkb3c6IHJnYigxOSwgMTQ4LCAyMDMpIDAgMCA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLnNuYXBwZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYShyZ2IoMTgxLCAyMzksIDI0OSksIDAuNCk7XHJcbiAgICBjb2xvcjogcmdiKDk2LCAxODgsIDIyNyk7XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBib3gtc2hhZG93OiByZ2IoMTc0LCAyMDcsIDI0NCkgM3B4IDNweCA3cHg7XHJcbiAgICAgIGNvbG9yOiByZ2IoNjUsIDk0LCAxNDcpO1xyXG4gICAgICAmOmFjdGl2ZSB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogcmdiKDEzNiwgMTk3LCAyMTkpIDAgMCA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}